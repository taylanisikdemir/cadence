
2025-08-05T19:50:12.138561126Z   Failed over from &{ActiveClustersByRegion:map[region0:{ActiveClusterName:cluster0 FailoverVersion:0} region1:{ActiveClusterName:cluster1 FailoverVersion:2}]} to &{ActiveClustersByRegion:map[region0:{ActiveClusterName:cluster1 FailoverVersion:-1} region1:{ActiveClusterName:cluster1 FailoverVersion:-1}]}

{"level":"debug","ts":"2025-08-05T19:50:16.022Z","msg":"stateBuilderImpl Applying events for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, first event [id:1, version:0], last event [id:1, version:0]","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-replicator","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","xdc-source-cluster":"cluster0","xdc-incoming-version":0,"wf-first-event-id":1,"wf-next-event-id":2,"logging-call-at":"state_builder.go:100"}
{"level":"debug","ts":"2025-08-05T19:50:16.022Z","msg":"stateBuilderImpl Applying event 1 of 1. Calling UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, event [id:1, version:0]","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-replicator","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","xdc-source-cluster":"cluster0","xdc-incoming-version":0,"wf-first-event-id":1,"wf-next-event-id":2,"logging-call-at":"state_builder.go:108"}
{"level":"debug","ts":"2025-08-05T19:50:16.022Z","msg":"UpdateCurrentVersion for domain , wfID , version before: -20, version after: 0, forceUpdate: true","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-replicator","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","xdc-source-cluster":"cluster0","xdc-incoming-version":0,"wf-first-event-id":1,"wf-next-event-id":2,"logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:50:16.022Z","msg":"Applied event 1 of 1 for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, event [id:1, version:0]","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-replicator","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","xdc-source-cluster":"cluster0","xdc-incoming-version":0,"wf-first-event-id":1,"wf-next-event-id":2,"logging-call-at":"state_builder.go:519"}
{"level":"debug","ts":"2025-08-05T19:50:16.031Z","msg":"LookupWorkflow: domain migrated from active-passive to active-active case. returning ActiveClusterName from domain entry","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","active-cluster-name":"cluster1","xdc-failover-version":-20,"logging-call-at":"manager.go:286"}
{"level":"debug","ts":"2025-08-05T19:50:16.034Z","msg":"LookupWorkflow: domain migrated from active-passive to active-active case. returning ActiveClusterName from domain entry","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","active-cluster-name":"cluster1","xdc-failover-version":-20,"logging-call-at":"manager.go:286"}
{"level":"debug","ts":"2025-08-05T19:50:16.047Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:50:16.047Z","msg":"Skip task because workflow is not active on the given cluster","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-id":"wf8","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","cluster-name":"cluster0","logging-call-at":"task_allocator.go:171"}
{"level":"debug","ts":"2025-08-05T19:50:16.047Z","msg":"verifyTaskActiveness returning (false, <nil>) for cluster cluster0, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":0,\"TaskID\":1048579,\"VisibilityTimestamp\":\"2025-08-05T19:50:16.034Z\"}, stacktrace goroutine 2638 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc070, {0x4000c83060, 0x8}, {0x4003d51d40, 0x24}, {0x4001e8a510, 0x3}, {0x4003d51da0, 0x24}, {0x2bafac0, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:176 +0x1020\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyStandbyTask(0x34a6560?, {0x4000c83060?, 0x4003d51d40?}, {0x4003d51d40?, 0x1?}, {0x4001e8a510?, 0x3e815ea?}, {0x4003d51da0?, 0x269?}, {0x2bafac0?, ...})\n\t/cadence/service/history/queue/task_allocator.go:89 +0x38\ngithub.com/uber/cadence/service/history/queue.newTransferQueueStandbyProcessor.func1({0x348ede0, 0x40025e47e0})\n\t/cadence/service/history/queue/transfer_queue_processor.go:597 +0x760\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4001ef5d10)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x400256b640, {0x3467130, 0x509ae60}, 0x4001b45e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4001ef5d10}, 0x4001569650)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001569650)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:50:26.081Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:50:26.081Z","msg":"Active cluster for given task","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","cluster-name":"cluster1","logging-call-at":"task_allocator.go:179"}
{"level":"debug","ts":"2025-08-05T19:50:26.081Z","msg":"verifyTaskActiveness returning (true, <nil>) for cluster cluster1, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":0,\"TaskID\":1048579,\"VisibilityTimestamp\":\"2025-08-05T19:50:16.034Z\"}, stacktrace goroutine 2681 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc070, {0x4000c83220, 0x8}, {0x400318e630, 0x24}, {0x4003dcbce8, 0x3}, {0x400318e5d0, 0x24}, {0x2bafac0, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:185 +0x14a4\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyActiveTask(0x34a6560?, {0x400318e630?, 0x400318e630?}, {0x4003dcbce8?, 0x4001abfa70?}, {0x400318e5d0?, 0x34445e0?}, {0x2bafac0?, 0x4003189b60?})\n\t/cadence/service/history/queue/task_allocator.go:74 +0x64\ngithub.com/uber/cadence/service/history/queue.newTransferQueueActiveProcessor.func1({0x348ede0, 0x4003189b60})\n\t/cadence/service/history/queue/transfer_queue_processor.go:521 +0x31c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003862000)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4002fcc700, {0x3467130, 0x509ae60}, 0x4005203e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003862000}, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:50:26.089Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:50:26.092Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:50:26.092Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2681 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x400314b030?}, 0x400309d560, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x400314b030}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x400314b030?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x400314b030}, {0x3499440, 0x40018afa20}, {0x348ede0, 0x4003189b60}, {0x347b830, 0x40040962a0}, {0x34803e8, 0x4002009da0}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).processRecordWorkflowStartedOrUpsertHelper(0x4000e1fa90, {0x34674b0, 0x400314b030}, {0x348ede0, 0x4003189b60}, 0x1)\n\t/cadence/service/history/task/transfer_active_task_executor.go:943 +0x224\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).processRecordWorkflowStarted(...)\n\t/cadence/service/history/task/transfer_active_task_executor.go:911\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).Execute(0x4000e1fa90, {0x349cfb0, 0x4003862000})\n\t/cadence/service/history/task/transfer_active_task_executor.go:154 +0x800\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003862000)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4002fcc700, {0x3467130, 0x509ae60}, 0x4005203e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003862000}, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:50:26.092Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:50:26.092Z","msg":"DomainID: 09ae9c46-e14e-4bd5-a677-889b360f53ad is active, task: &{{09ae9c46-e14e-4bd5-a677-889b360f53ad wf8 4fd31c6e-e182-4380-9c43-52ae350ed6f7} {0 1048579 2025-08-05 19:50:16.034 +0000 UTC}} version == target version: 0.","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"transfer-queue-processor","queue-type":"active","logging-call-at":"task_util.go:209"}



t0: Initial state.
    cluster0 domain table:
        {
            region0: cluster0, ver=0
            region1: cluster1, ver=2
        }

    cluster1 domain table:
        {
            region0: cluster0, ver=0
            region1: cluster1, ver=2
        }

t1: WF8 start.
        cluster0 execution table:
        - wf8 started. ver=0

t2: Failover.
        cluster0 domain table:
        {
            region0: cluster1, ver=2
            region1: cluster1, ver=2
        }

t3: WF8 start event replicated.
        cluster1 execution table:
        - wf8 started. ver=0



{"level":"debug","ts":"2025-08-05T19:54:08.573Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"error","ts":"2025-08-05T19:54:08.573Z","msg":"getStandbyPostActionFn error getting current time, fallback to standbyTaskPostActionNoOp","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","queue-task-id":1048577,"queue-task-type":3,"timestamp":"2025-08-05T19:53:29.077Z","error":"domain becomes active when processing task as standby","logging-call-at":"standby_task_util.go:182","stacktrace":"github.com/uber/cadence/service/history/task.getStandbyPostActionFn\n\t/cadence/service/history/task/standby_task_util.go:182\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).executeWorkflowTimeoutTask\n\t/cadence/service/history/task/timer_standby_task_executor.go:416\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).Execute\n\t/cadence/service/history/task/timer_standby_task_executor.go:120\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute\n\t/cadence/service/history/task/task.go:167\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2\n\t/cadence/common/task/parallel_task_processor.go:166\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do\n\t/cadence/common/backoff/retry.go:186\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask\n\t/cadence/common/task/parallel_task_processor.go:186\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker\n\t/cadence/common/task/parallel_task_processor.go:148"}
{"level":"debug","ts":"2025-08-05T19:54:08.573Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:08.573Z","msg":"Skip task because workflow is not active on the given cluster","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-id":"wf8","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","cluster-name":"cluster0","logging-call-at":"task_allocator.go:171"}
{"level":"debug","ts":"2025-08-05T19:54:08.573Z","msg":"verifyTaskActiveness returning (false, <nil>) for cluster cluster0, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":0,\"TaskID\":1048578,\"VisibilityTimestamp\":\"2025-08-05T19:50:24.077Z\",\"TimeoutType\":1}, stacktrace goroutine 2681 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc700, {0x4000c83060, 0x8}, {0x40039698f0, 0x24}, {0x4002c925a0, 0x3}, {0x4003969920, 0x24}, {0x2bb0e00, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:176 +0x1020\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyStandbyTask(0x34a6560?, {0x4000c83060?, 0x40039698f0?}, {0x40039698f0?, 0x4002157c20?}, {0x4002c925a0?, 0x40028e7aa8?}, {0x4003969920?, 0x257da80?}, {0x2bb0e00?, ...})\n\t/cadence/service/history/queue/task_allocator.go:89 +0x38\ngithub.com/uber/cadence/service/history/queue.newTimerQueueStandbyProcessor.func1({0x348f630, 0x4005c8d140})\n\t/cadence/service/history/queue/timer_queue_standby_processor.go:77 +0x790\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003be1a40)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004951d80, {0x3467130, 0x509ae60}, 0x4003f75e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003be1a40}, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009ff030)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2692 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x4004660a10?}, 0x40049599e0, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x4004660a10}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x4004660a10?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x4004660a10}, {0x3499440, 0x40018afa20}, {0x348f468, 0x4005c8d1a0}, {0x347b830, 0x4001d8b620}, {0x34803e8, 0x4000f04978}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).processTimer(0x40025c2000, {0x34674b0, 0x4004660a10}, {0x348f468, 0x4005c8d1a0}, 0x0, 0x4003f798d0, 0x302dee0)\n\t/cadence/service/history/task/timer_standby_task_executor.go:461 +0x1d8\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).executeWorkflowTimeoutTask(0x40025c2000, {0x34674b0, 0x4004660a10}, 0x4005c8d1a0)\n\t/cadence/service/history/task/timer_standby_task_executor.go:411 +0x10c\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).Execute(0x40025c2000, {0x349cfb0, 0x4003be1e00})\n\t/cadence/service/history/task/timer_standby_task_executor.go:120 +0x764\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003be1e00)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004951a40, {0x3467130, 0x509ae60}, 0x4003f79e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003be1e00}, 0x40009ff5e0)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009ff5e0)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"DomainID: 09ae9c46-e14e-4bd5-a677-889b360f53ad is active, task: &{{09ae9c46-e14e-4bd5-a677-889b360f53ad wf8 4fd31c6e-e182-4380-9c43-52ae350ed6f7} {0 1048577 2025-08-05 19:53:29.077 +0000 UTC}} version == target version: 0.","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","logging-call-at":"task_util.go:209"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"processTimer got historyResendInfo from actionFn","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","queue-task-id":1048577,"queue-task-type":3,"timestamp":"2025-08-05T19:53:29.077Z","logging-call-at":"timer_standby_task_executor.go:492"}
{"level":"debug","ts":"2025-08-05T19:54:08.577Z","msg":"standbyTaskPostActionNoOp return redispatch error so task processing logic will retry","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","queue-task-id":1048577,"queue-task-type":3,"xdc-failover-version":0,"timestamp":"2025-08-05T19:53:29.077Z","logging-call-at":"standby_task_util.go:58"}
{"level":"debug","ts":"2025-08-05T19:54:32.911Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.911Z","msg":"Active cluster for given task","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","cluster-name":"cluster1","logging-call-at":"task_allocator.go:179"}
{"level":"debug","ts":"2025-08-05T19:54:32.912Z","msg":"verifyTaskActiveness returning (true, <nil>) for cluster cluster1, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":0,\"TaskID\":1048578,\"VisibilityTimestamp\":\"2025-08-05T19:50:24.077Z\",\"TimeoutType\":1}, stacktrace goroutine 2656 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc700, {0x4000c83220, 0x8}, {0x4003d26150, 0x24}, {0x40015cd0c0, 0x3}, {0x4003d26180, 0x24}, {0x2bb0e00, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:185 +0x14a4\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyActiveTask(0x34a6560?, {0x4003d26150?, 0x4003d26150?}, {0x40015cd0c0?, 0x4003217d38?}, {0x4003d26180?, 0x344d858?}, {0x2bb0e00?, 0x400445a1e0?})\n\t/cadence/service/history/queue/task_allocator.go:74 +0x64\ngithub.com/uber/cadence/service/history/queue.newTimerQueueActiveProcessor.func1({0x348f630, 0x400445a1e0})\n\t/cadence/service/history/queue/timer_queue_active_processor.go:59 +0x34c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4000fe8b40)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004d14ec0, {0x3467130, 0x509ae60}, 0x40053c7e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4000fe8b40}, 0x4001569f10)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001569f10)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:32.911Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.912Z","msg":"Active cluster for given task","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","cluster-name":"cluster1","logging-call-at":"task_allocator.go:179"}
{"level":"debug","ts":"2025-08-05T19:54:32.912Z","msg":"verifyTaskActiveness returning (true, <nil>) for cluster cluster1, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":0,\"TaskID\":1048577,\"VisibilityTimestamp\":\"2025-08-05T19:53:29.077Z\"}, stacktrace goroutine 2652 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc700, {0x4000c83220, 0x8}, {0x4003d261b0, 0x24}, {0x40015cd158, 0x3}, {0x4003d261e0, 0x24}, {0x2bb09e0, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:185 +0x14a4\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyActiveTask(0x34a6560?, {0x4003d261b0?, 0x4003d261b0?}, {0x40015cd158?, 0x8?}, {0x4003d261e0?, 0x2?}, {0x2bb09e0?, 0x400445a240?})\n\t/cadence/service/history/queue/task_allocator.go:74 +0x64\ngithub.com/uber/cadence/service/history/queue.newTimerQueueActiveProcessor.func1({0x348f468, 0x400445a240})\n\t/cadence/service/history/queue/timer_queue_active_processor.go:59 +0x34c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4000fe8ff0)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004d14b40, {0x3467130, 0x509ae60}, 0x4004157e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4000fe8ff0}, 0x4001569d50)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001569d50)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:32.916Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2656 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x4004a5d2d0?}, 0x40003fd680, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x4004a5d2d0}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x4004a5d2d0?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x4004a5d2d0}, {0x3499440, 0x40018afa20}, {0x348f630, 0x400445a1e0}, {0x347b830, 0x40043d4e10}, {0x34803e8, 0x4000f04600}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*timerActiveTaskExecutor).executeWorkflowBackoffTimerTask(0x4000123bc0, {0x34674b0, 0x4004a5d2d0}, 0x400445a1e0)\n\t/cadence/service/history/task/timer_active_task_executor.go:585 +0x1b8\ngithub.com/uber/cadence/service/history/task.(*timerActiveTaskExecutor).Execute(0x4000123bc0, {0x349cfb0, 0x4000fe8b40})\n\t/cadence/service/history/task/timer_active_task_executor.go:123 +0x840\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4000fe8b40)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004d14ec0, {0x3467130, 0x509ae60}, 0x40053c7e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4000fe8b40}, 0x4001569f10)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001569f10)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"Decision Updated: {Schedule: 2, Started: -23, ID: emptyUuid, Timeout: 5, Attempt: 0, Timestamp: 0}, Stacktrace: [103 111 114 111 117 116 105 110 101 32 50 54 53 54 32 91 114 117 110 110 105 110 103 93 58 10 114 117 110 116 105 109 101 47 100 101 98 117 103 46 83 116 97 99 107 40 41 10 9 47 117 115 114 47 108 111 99 97 108 47 103 111 47 115 114 99 47 114 117 110 116 105 109 101 47 100 101 98 117 103 47 115 116 97 99 107 46 103 111 58 50 54 32 43 48 120 54 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 40 42 109 117 116 97 98 108 101 83 116 97 116 101 68 101 99 105 115 105 111 110 84 97 115 107 77 97 110 97 103 101 114 73 109 112 108 41 46 85 112 100 97 116 101 68 101 99 105 115 105 111 110 40 48 120 52 48 48 48 100 49 98 97 97 56 44 32 48 120 52 48 48 51 101 97 50 49 50 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 100 101 99 105 115 105 111 110 95 116 97 115 107 95 109 97 110 97 103 101 114 46 103 111 58 55 53 50 32 43 48 120 102 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 40 42 109 117 116 97 98 108 101 83 116 97 116 101 68 101 99 105 115 105 111 110 84 97 115 107 77 97 110 97 103 101 114 73 109 112 108 41 46 82 101 112 108 105 99 97 116 101 68 101 99 105 115 105 111 110 84 97 115 107 83 99 104 101 100 117 108 101 100 69 118 101 110 116 40 48 120 52 48 48 48 100 49 98 97 97 56 44 32 48 120 50 44 32 48 120 50 44 32 123 48 120 52 48 48 49 98 56 99 51 53 48 44 32 48 120 100 125 44 32 48 120 53 44 32 48 120 48 44 32 48 120 49 56 53 56 102 55 48 57 48 49 99 50 56 98 102 48 44 32 48 120 49 56 53 56 102 55 48 57 48 49 99 50 51 100 97 55 44 32 48 120 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 100 101 99 105 115 105 111 110 95 116 97 115 107 95 109 97 110 97 103 101 114 46 103 111 58 49 54 57 32 43 48 120 49 48 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 40 42 109 117 116 97 98 108 101 83 116 97 116 101 68 101 99 105 115 105 111 110 84 97 115 107 77 97 110 97 103 101 114 73 109 112 108 41 46 65 100 100 68 101 99 105 115 105 111 110 84 97 115 107 83 99 104 101 100 117 108 101 100 69 118 101 110 116 65 115 72 101 97 114 116 98 101 97 116 40 48 120 52 48 48 48 100 49 98 97 97 56 44 32 48 120 48 44 32 48 120 49 56 53 56 102 55 48 57 48 49 99 50 51 100 97 55 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 100 101 99 105 115 105 111 110 95 116 97 115 107 95 109 97 110 97 103 101 114 46 103 111 58 52 52 51 32 43 48 120 54 49 99 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 40 42 109 117 116 97 98 108 101 83 116 97 116 101 68 101 99 105 115 105 111 110 84 97 115 107 77 97 110 97 103 101 114 73 109 112 108 41 46 65 100 100 68 101 99 105 115 105 111 110 84 97 115 107 83 99 104 101 100 117 108 101 100 69 118 101 110 116 40 48 120 52 48 48 48 100 49 98 97 97 56 44 32 48 120 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 100 101 99 105 115 105 111 110 95 116 97 115 107 95 109 97 110 97 103 101 114 46 103 111 58 52 53 56 32 43 48 120 56 48 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 40 42 109 117 116 97 98 108 101 83 116 97 116 101 66 117 105 108 100 101 114 41 46 65 100 100 68 101 99 105 115 105 111 110 84 97 115 107 83 99 104 101 100 117 108 101 100 69 118 101 110 116 40 48 120 52 48 48 51 99 49 56 51 48 56 44 32 48 120 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 98 117 105 108 100 101 114 95 109 101 116 104 111 100 115 95 100 101 99 105 115 105 111 110 46 103 111 58 49 48 49 32 43 48 120 99 48 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 46 83 99 104 101 100 117 108 101 68 101 99 105 115 105 111 110 40 123 48 120 51 52 99 50 57 56 56 44 32 48 120 52 48 48 51 99 49 56 51 48 56 125 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 101 120 101 99 117 116 105 111 110 47 109 117 116 97 98 108 101 95 115 116 97 116 101 95 117 116 105 108 46 103 111 58 49 49 56 32 43 48 120 52 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 46 40 42 116 105 109 101 114 65 99 116 105 118 101 84 97 115 107 69 120 101 99 117 116 111 114 41 46 117 112 100 97 116 101 87 111 114 107 102 108 111 119 69 120 101 99 117 116 105 111 110 40 48 120 52 48 48 48 49 50 51 98 99 48 44 32 123 48 120 51 52 54 55 52 98 48 44 32 48 120 52 48 48 52 97 53 100 50 100 48 125 44 32 123 48 120 51 52 57 57 52 52 48 44 32 48 120 52 48 48 49 56 97 102 97 50 48 125 44 32 123 48 120 51 52 99 50 57 56 56 44 32 48 120 52 48 48 51 99 49 56 51 48 56 125 44 32 48 120 49 48 63 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 47 116 105 109 101 114 95 97 99 116 105 118 101 95 116 97 115 107 95 101 120 101 99 117 116 111 114 46 103 111 58 56 51 50 32 43 48 120 52 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 46 40 42 116 105 109 101 114 65 99 116 105 118 101 84 97 115 107 69 120 101 99 117 116 111 114 41 46 101 120 101 99 117 116 101 87 111 114 107 102 108 111 119 66 97 99 107 111 102 102 84 105 109 101 114 84 97 115 107 40 48 120 52 48 48 48 49 50 51 98 99 48 44 32 123 48 120 51 52 54 55 52 98 48 44 32 48 120 52 48 48 52 97 53 100 50 100 48 125 44 32 48 120 52 48 48 52 52 53 97 49 101 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 47 116 105 109 101 114 95 97 99 116 105 118 101 95 116 97 115 107 95 101 120 101 99 117 116 111 114 46 103 111 58 54 48 53 32 43 48 120 50 97 48 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 46 40 42 116 105 109 101 114 65 99 116 105 118 101 84 97 115 107 69 120 101 99 117 116 111 114 41 46 69 120 101 99 117 116 101 40 48 120 52 48 48 48 49 50 51 98 99 48 44 32 123 48 120 51 52 57 99 102 98 48 44 32 48 120 52 48 48 48 102 101 56 98 52 48 125 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 47 116 105 109 101 114 95 97 99 116 105 118 101 95 116 97 115 107 95 101 120 101 99 117 116 111 114 46 103 111 58 49 50 51 32 43 48 120 56 52 48 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 46 40 42 116 97 115 107 73 109 112 108 41 46 69 120 101 99 117 116 101 40 48 120 52 48 48 48 102 101 56 98 52 48 41 10 9 47 99 97 100 101 110 99 101 47 115 101 114 118 105 99 101 47 104 105 115 116 111 114 121 47 116 97 115 107 47 116 97 115 107 46 103 111 58 49 54 55 32 43 48 120 50 50 99 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 46 40 42 112 97 114 97 108 108 101 108 84 97 115 107 80 114 111 99 101 115 115 111 114 73 109 112 108 41 46 101 120 101 99 117 116 101 84 97 115 107 46 102 117 110 99 50 40 123 48 120 51 52 54 55 49 51 48 63 44 32 48 120 53 48 57 97 101 54 48 63 125 41 10 9 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 47 112 97 114 97 108 108 101 108 95 116 97 115 107 95 112 114 111 99 101 115 115 111 114 46 103 111 58 49 54 54 32 43 48 120 51 48 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 98 97 99 107 111 102 102 46 40 42 84 104 114 111 116 116 108 101 82 101 116 114 121 41 46 68 111 40 48 120 52 48 48 52 100 49 52 101 99 48 44 32 123 48 120 51 52 54 55 49 51 48 44 32 48 120 53 48 57 97 101 54 48 125 44 32 48 120 52 48 48 53 51 99 55 101 55 56 41 10 9 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 98 97 99 107 111 102 102 47 114 101 116 114 121 46 103 111 58 49 56 54 32 43 48 120 49 48 56 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 46 40 42 112 97 114 97 108 108 101 108 84 97 115 107 80 114 111 99 101 115 115 111 114 73 109 112 108 41 46 101 120 101 99 117 116 101 84 97 115 107 40 48 120 52 48 48 48 52 55 52 56 99 48 44 32 123 48 120 102 102 102 102 54 100 54 97 54 54 52 48 44 32 48 120 52 48 48 48 102 101 56 98 52 48 125 44 32 48 120 52 48 48 49 53 54 57 102 49 48 41 10 9 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 47 112 97 114 97 108 108 101 108 95 116 97 115 107 95 112 114 111 99 101 115 115 111 114 46 103 111 58 49 56 54 32 43 48 120 49 100 52 10 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 46 40 42 112 97 114 97 108 108 101 108 84 97 115 107 80 114 111 99 101 115 115 111 114 73 109 112 108 41 46 116 97 115 107 87 111 114 107 101 114 40 48 120 52 48 48 48 52 55 52 56 99 48 44 32 48 120 52 48 48 49 53 54 57 102 49 48 41 10 9 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 47 112 97 114 97 108 108 101 108 95 116 97 115 107 95 112 114 111 99 101 115 115 111 114 46 103 111 58 49 52 56 32 43 48 120 54 99 10 99 114 101 97 116 101 100 32 98 121 32 103 105 116 104 117 98 46 99 111 109 47 117 98 101 114 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 46 40 42 112 97 114 97 108 108 101 108 84 97 115 107 80 114 111 99 101 115 115 111 114 73 109 112 108 41 46 83 116 97 114 116 32 105 110 32 103 111 114 111 117 116 105 110 101 32 50 48 51 52 10 9 47 99 97 100 101 110 99 101 47 99 111 109 109 111 110 47 116 97 115 107 47 112 97 114 97 108 108 101 108 95 116 97 115 107 95 112 114 111 99 101 115 115 111 114 46 103 111 58 57 54 32 43 48 120 99 52 10]","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_decision_task_manager.go:744"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"timerActiveTaskExecutor.updateWorkflowExecution calling UpdateWorkflowExecutionAsActive for wfID wf8","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"active","logging-call-at":"timer_active_task_executor.go:839"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"UpdateWorkflowExecutionAsActive calling UpdateWorkflowExecutionWithNew","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-id":"wf8","current policy":1,"new policy":null,"logging-call-at":"context.go:659"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"UpdateWorkflowExecutionWithNew calling CloseTransactionAsMutation","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-id":"wf8","policy":0,"logging-call-at":"context.go:776"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.917Z","msg":"eventsToReplicationTask returning replicationTask. Version: 2, FirstEventID: 2, NextEventID: 3, SourceCluster: cluster1, CurrentCluster: cluster1","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1826"}
{"level":"debug","ts":"2025-08-05T19:54:32.935Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.935Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2652 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x40046611f0?}, 0x4002973ef0, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x40046611f0}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x40046611f0?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x40046611f0}, {0x3499440, 0x40018afa20}, {0x348f468, 0x400445a240}, {0x347b830, 0x4004dfa2a0}, {0x34803e8, 0x4000f04600}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*timerActiveTaskExecutor).executeWorkflowTimeoutTask(0x4000123bc0, {0x34674b0, 0x40046611f0}, 0x400445a240)\n\t/cadence/service/history/task/timer_active_task_executor.go:726 +0x1bc\ngithub.com/uber/cadence/service/history/task.(*timerActiveTaskExecutor).Execute(0x4000123bc0, {0x349cfb0, 0x4000fe8ff0})\n\t/cadence/service/history/task/timer_active_task_executor.go:115 +0x77c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4000fe8ff0)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004d14b40, {0x3467130, 0x509ae60}, 0x4004157e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4000fe8ff0}, 0x4001569d50)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001569d50)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:32.935Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:32.935Z","msg":"DomainID: 09ae9c46-e14e-4bd5-a677-889b360f53ad is active, task: &{{09ae9c46-e14e-4bd5-a677-889b360f53ad wf8 4fd31c6e-e182-4380-9c43-52ae350ed6f7} {0 1048577 2025-08-05 19:53:29.077 +0000 UTC}} version == target version: 0.","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"active","logging-call-at":"task_util.go:209"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"GenerateWorkflowCloseTasks","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","timestamp":"2025-08-05T19:54:32.936Z","logging-call-at":"mutable_state_task_generator.go:189"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"timerActiveTaskExecutor.updateWorkflowExecution calling UpdateWorkflowExecutionAsActive for wfID wf8","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"active","logging-call-at":"timer_active_task_executor.go:839"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"UpdateWorkflowExecutionAsActive calling UpdateWorkflowExecutionWithNew","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-id":"wf8","current policy":1,"new policy":null,"logging-call-at":"context.go:659"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"UpdateWorkflowExecutionWithNew calling CloseTransactionAsMutation","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-id":"wf8","policy":0,"logging-call-at":"context.go:776"}
{"level":"debug","ts":"2025-08-05T19:54:32.936Z","msg":"GetCurrentVersion versionHistories.CurrentVersion=2","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:589"}
{"level":"debug","ts":"2025-08-05T19:54:32.937Z","msg":"eventsToReplicationTask returning replicationTask. Version: 2, FirstEventID: 3, NextEventID: 4, SourceCluster: cluster1, CurrentCluster: cluster1","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1826"}
{"level":"debug","ts":"2025-08-05T19:54:32.939Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.939Z","msg":"Active cluster for given task","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","cluster-name":"cluster1","logging-call-at":"task_allocator.go:179"}
{"level":"debug","ts":"2025-08-05T19:54:32.939Z","msg":"verifyTaskActiveness returning (true, <nil>) for cluster cluster1, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":2,\"TaskID\":1048582,\"VisibilityTimestamp\":\"2025-08-05T19:54:32.921Z\",\"TargetDomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"TaskList\":\"test-tasklist\",\"ScheduleID\":2}, stacktrace goroutine 2679 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc070, {0x4000c83220, 0x8}, {0x4004f8faa0, 0x24}, {0x4004dab6d8, 0x3}, {0x4004f8fb30, 0x24}, {0x2baf800, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:185 +0x14a4\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyActiveTask(0x34a6560?, {0x4004f8faa0?, 0x4004f8faa0?}, {0x4004dab6d8?, 0x34803e8?}, {0x4004f8fb30?, 0x8?}, {0x2baf800?, 0x400540bf00?})\n\t/cadence/service/history/queue/task_allocator.go:74 +0x64\ngithub.com/uber/cadence/service/history/queue.newTransferQueueActiveProcessor.func1({0x348ecb0, 0x400540bf00})\n\t/cadence/service/history/queue/transfer_queue_processor.go:521 +0x31c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003a9d680)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x400514dd80, {0x3467130, 0x509ae60}, 0x4002971e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003a9d680}, 0x40009fef50)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009fef50)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:32.944Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"info","ts":"2025-08-05T19:54:32.953Z","msg":"workflow execution timed out","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-name":"test-domain-aa","logging-call-at":"context_util.go:177"}
{"level":"debug","ts":"2025-08-05T19:54:32.956Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.957Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2679 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x4004661f10?}, 0x400507e900, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x4004661f10}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x4004661f10?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x4004661f10}, {0x3499440, 0x40018afa20}, {0x348ecb0, 0x400540bf00}, {0x347b830, 0x4004e5e3c0}, {0x34803e8, 0x4002009da0}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).processDecisionTask(0x4000e1fa90, {0x34674b0, 0x4004661f10}, 0x400540bf00)\n\t/cadence/service/history/task/transfer_active_task_executor.go:240 +0x1c8\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).Execute(0x4000e1fa90, {0x349cfb0, 0x4003a9d680})\n\t/cadence/service/history/task/transfer_active_task_executor.go:140 +0x694\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003a9d680)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x400514dd80, {0x3467130, 0x509ae60}, 0x4002971e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003a9d680}, 0x40009fef50)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009fef50)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:32.957Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:32.960Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.960Z","msg":"Active cluster for given task","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","cluster-name":"cluster1","logging-call-at":"task_allocator.go:179"}
{"level":"debug","ts":"2025-08-05T19:54:32.960Z","msg":"verifyTaskActiveness returning (true, <nil>) for cluster cluster1, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":2,\"TaskID\":1048586,\"VisibilityTimestamp\":\"2025-08-05T19:54:32.939Z\"}, stacktrace goroutine 2723 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc070, {0x4000c83220, 0x8}, {0x4000b4d8f0, 0x24}, {0x40041975b0, 0x3}, {0x4000b4d920, 0x24}, {0x2baf960, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:185 +0x14a4\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyActiveTask(0x34a6560?, {0x4000b4d8f0?, 0x4000b4d8f0?}, {0x40041975b0?, 0x34803e8?}, {0x4000b4d920?, 0x8?}, {0x2baf960?, 0x4002bd5c80?})\n\t/cadence/service/history/queue/task_allocator.go:74 +0x64\ngithub.com/uber/cadence/service/history/queue.newTransferQueueActiveProcessor.func1({0x348ed48, 0x4002bd5c80})\n\t/cadence/service/history/queue/transfer_queue_processor.go:521 +0x31c\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4002e19680)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x400465c900, {0x3467130, 0x509ae60}, 0x400266be78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4002e19680}, 0x4001442e70)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001442e70)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:32.965Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:32.965Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2723 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x400349b7a0?}, 0x400561ea20, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x400349b7a0}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x400349b7a0?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x400349b7a0}, {0x3499440, 0x40018afa20}, {0x348ed48, 0x4002bd5c80}, {0x347b830, 0x4002f07650}, {0x34803e8, 0x4002009da0}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).processCloseExecutionTaskHelper(0x4000e1fa90, {0x34674b0, 0x400349b7a0}, {0x348ed48, 0x4002bd5c80}, 0x1, 0x1, 0x1)\n\t/cadence/service/history/task/transfer_active_task_executor.go:369 +0x1e4\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).processCloseExecution(...)\n\t/cadence/service/history/task/transfer_active_task_executor.go:324\ngithub.com/uber/cadence/service/history/task.(*transferActiveTaskExecutor).Execute(0x4000e1fa90, {0x349cfb0, 0x4002e19680})\n\t/cadence/service/history/task/transfer_active_task_executor.go:142 +0x444\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4002e19680)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x400465c900, {0x3467130, 0x509ae60}, 0x400266be78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4002e19680}, 0x4001442e70)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x4001442e70)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:32.966Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:32.966Z","msg":"DomainID: 09ae9c46-e14e-4bd5-a677-889b360f53ad is active, task: &{{09ae9c46-e14e-4bd5-a677-889b360f53ad wf8 4fd31c6e-e182-4380-9c43-52ae350ed6f7} {2 1048586 2025-08-05 19:54:32.939 +0000 UTC}} version == target version: 2.","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"transfer-queue-processor","queue-type":"active","logging-call-at":"task_util.go:209"}
{"level":"debug","ts":"2025-08-05T19:54:33.766Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:33.767Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 111272 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x3467408?, 0x40033d4660?}, 0x40010f67e0, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x3467408, 0x40033d4660}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x4001ed18c0?, {0x3467408?, 0x40033d4660?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/replication.mutableStateLoader.GetMutableState({{0x3485540?, 0x4001ed18c0?}}, {0x3467408, 0x40033d4660}, {0x4000b4dc50?, 0x10?}, {0x40044164f0?, 0x23924?}, {0x4000b4dcb0?, 0xa442c8?})\n\t/cadence/service/history/replication/task_hydrator.go:275 +0x7c\ngithub.com/uber/cadence/service/history/replication.TaskHydrator.Hydrate({{0x3444580?, 0x40025ac210?}, {0x3450a28?, 0x40025a3a10?}}, {0x3467408, 0x40033d4660}, {0x348eae8, 0x40015b2e60})\n\t/cadence/service/history/replication/task_hydrator.go:88 +0x260\ngithub.com/uber/cadence/service/history/replication.(*TaskStore).Get.func1({0x3467408?, 0x40033d4660?})\n\t/cadence/service/history/replication/task_store.go:148 +0x50\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x40025a7740, {0x3467408, 0x40022264b0}, 0x40020bb8c0)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/service/history/replication.(*TaskStore).Get(0x4000b57600, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, {0x348eae8, 0x40015b2e60})\n\t/cadence/service/history/replication/task_store.go:152 +0x394\ngithub.com/uber/cadence/service/history/replication.(*TaskAckManager).getTasks(0x40012d70e0, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, 0xffffffffffffffff)\n\t/cadence/service/history/replication/task_ack_manager.go:167 +0x508\ngithub.com/uber/cadence/service/history/replication.(*TaskAckManager).GetTasks(0x40012d70e0, {0x3467408?, 0x40022264b0?}, {0x4000680b68?, 0x45bb1f7432?}, 0x10?)\n\t/cadence/service/history/replication/task_ack_manager.go:106 +0x2c\ngithub.com/uber/cadence/service/history/engine/engineimpl.(*historyEngineImpl).GetReplicationMessages(0x40012d6f08, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, 0xffffffffffffffff)\n\t/cadence/service/history/engine/engineimpl/get_replication_messages.go:46 +0xf0\ngithub.com/uber/cadence/service/history/handler.(*handlerImpl).getReplicationShardMessages.func1(0x4001ed69f0)\n\t/cadence/service/history/handler/handler.go:1618 +0xfc\ncreated by github.com/uber/cadence/service/history/handler.(*handlerImpl).getReplicationShardMessages in goroutine 111270\n\t/cadence/service/history/handler/handler.go:1610 +0xe0\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:33.767Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:33.776Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:33.777Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 111272 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x3467408?, 0x40033d5a40?}, 0x40010f75f0, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x3467408, 0x40033d5a40}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x4001ed18c0?, {0x3467408?, 0x40033d5a40?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/replication.mutableStateLoader.GetMutableState({{0x3485540?, 0x4001ed18c0?}}, {0x3467408, 0x40033d5a40}, {0x4000b4ddd0?, 0x10?}, {0x40044165e0?, 0x23924?}, {0x4000b4dd40?, 0xa442c8?})\n\t/cadence/service/history/replication/task_hydrator.go:275 +0x7c\ngithub.com/uber/cadence/service/history/replication.TaskHydrator.Hydrate({{0x3444580?, 0x40025ac210?}, {0x3450a28?, 0x40025a3a10?}}, {0x3467408, 0x40033d5a40}, {0x348eae8, 0x40015b2f00})\n\t/cadence/service/history/replication/task_hydrator.go:88 +0x260\ngithub.com/uber/cadence/service/history/replication.(*TaskStore).Get.func1({0x3467408?, 0x40033d5a40?})\n\t/cadence/service/history/replication/task_store.go:148 +0x50\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x40025a7740, {0x3467408, 0x40022264b0}, 0x40020bb8c0)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/service/history/replication.(*TaskStore).Get(0x4000b57600, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, {0x348eae8, 0x40015b2f00})\n\t/cadence/service/history/replication/task_store.go:152 +0x394\ngithub.com/uber/cadence/service/history/replication.(*TaskAckManager).getTasks(0x40012d70e0, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, 0xffffffffffffffff)\n\t/cadence/service/history/replication/task_ack_manager.go:167 +0x508\ngithub.com/uber/cadence/service/history/replication.(*TaskAckManager).GetTasks(0x40012d70e0, {0x3467408?, 0x40022264b0?}, {0x4000680b68?, 0x45bb1f7432?}, 0x10?)\n\t/cadence/service/history/replication/task_ack_manager.go:106 +0x2c\ngithub.com/uber/cadence/service/history/engine/engineimpl.(*historyEngineImpl).GetReplicationMessages(0x40012d6f08, {0x3467408, 0x40022264b0}, {0x4000680b68, 0x8}, 0xffffffffffffffff)\n\t/cadence/service/history/engine/engineimpl/get_replication_messages.go:46 +0xf0\ngithub.com/uber/cadence/service/history/handler.(*handlerImpl).getReplicationShardMessages.func1(0x4001ed69f0)\n\t/cadence/service/history/handler/handler.go:1618 +0xfc\ncreated by github.com/uber/cadence/service/history/handler.(*handlerImpl).getReplicationShardMessages in goroutine 111270\n\t/cadence/service/history/handler/handler.go:1610 +0xe0\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:33.777Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:33.782Z","msg":"Replication task: {\"taskType\":\"HistoryV2\",\"sourceTaskId\":1048583,\"historyTaskV2Attributes\":{\"domainId\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"workflowId\":\"wf8\",\"runId\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"versionHistoryItems\":[{\"eventID\":1},{\"eventID\":3,\"version\":2}],\"events\":{\"EncodingType\":\"ThriftRW\",\"Data\":\"WQ8ACgwAAAABCgAKAAAAAAAAAAIKABQYWPcJAcKL8AgAHgAAAAQKACMAAAAAAAAAAgoAJAAAAAAAEAAEDABQDAAKCwAKAAAADXRlc3QtdGFza2xpc3QACAAUAAAABQoAHgAAAAAAAAAAAAAA\"}},\"creationTime\":1754423672922125469}","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-engine","logging-call-at":"get_replication_messages.go:69"}
{"level":"debug","ts":"2025-08-05T19:54:33.782Z","msg":"Replication task: {\"taskType\":\"HistoryV2\",\"sourceTaskId\":1048588,\"historyTaskV2Attributes\":{\"domainId\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"workflowId\":\"wf8\",\"runId\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"versionHistoryItems\":[{\"eventID\":1},{\"eventID\":3,\"version\":2}],\"events\":{\"EncodingType\":\"ThriftRW\",\"Data\":\"WQ8ACgwAAAABCgAKAAAAAAAAAAMKABQYWPcJAuYquQgAHgAAAAMKACMAAAAAAAAAAgoAJAAAAAAAEAAIDABGCAAKAAAAAAAAAA==\"}},\"creationTime\":1754423672944919511}","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-engine","logging-call-at":"get_replication_messages.go:69"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"Skip task because workflow is not active on the given cluster","service":"cadence-history","shard-id":0,"address":"[::]:7934","wf-id":"wf8","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","cluster-name":"cluster0","logging-call-at":"task_allocator.go:171"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"verifyTaskActiveness returning (false, <nil>) for cluster cluster0, domainID 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, rID 4fd31c6e-e182-4380-9c43-52ae350ed6f7, task {\"DomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"WorkflowID\":\"wf8\",\"RunID\":\"4fd31c6e-e182-4380-9c43-52ae350ed6f7\",\"Version\":2,\"TaskID\":1048582,\"VisibilityTimestamp\":\"2025-08-05T19:54:32.921Z\",\"TargetDomainID\":\"09ae9c46-e14e-4bd5-a677-889b360f53ad\",\"TaskList\":\"test-tasklist\",\"ScheduleID\":2}, stacktrace goroutine 2664 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness.func1()\n\t/cadence/service/history/queue/task_allocator.go:120 +0x1f8\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).verifyTaskActiveness(0x40025bc070, {0x4000c83060, 0x8}, {0x4002b0a300, 0x24}, {0x4003e27f18, 0x3}, {0x4002b0a2d0, 0x24}, {0x2baf800, ...}, ...)\n\t/cadence/service/history/queue/task_allocator.go:176 +0x1020\ngithub.com/uber/cadence/service/history/queue.(*taskAllocatorImpl).VerifyStandbyTask(0x34a6560?, {0x4000c83060?, 0x4002b0a300?}, {0x4002b0a300?, 0x1?}, {0x4003e27f18?, 0x5?}, {0x4002b0a2d0?, 0x4000c70930?}, {0x2baf800?, ...})\n\t/cadence/service/history/queue/task_allocator.go:89 +0x38\ngithub.com/uber/cadence/service/history/queue.newTransferQueueStandbyProcessor.func1({0x348ecb0, 0x4001ad0580})\n\t/cadence/service/history/queue/transfer_queue_processor.go:597 +0x760\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x40027c7590)\n\t/cadence/service/history/task/task.go:151 +0x90\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x40021582c0, {0x3467130, 0x509ae60}, 0x4003d6fe78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x40027c7590}, 0x40009fe700)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009fe700)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","logging-call-at":"task_allocator.go:112"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2692 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x4003e6a0e0?}, 0x4005c13440, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x4003e6a0e0}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x4003e6a0e0?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x4003e6a0e0}, {0x3499440, 0x40018afa20}, {0x348ed48, 0x4003765500}, {0x347b830, 0x4004451110}, {0x34803e8, 0x4002009ec0}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*transferStandbyTaskExecutor).processTransfer(0x40025b5350, {0x34674b0, 0x4003e6a0e0}, 0x1, {0x348ed48, 0x4003765500}, 0x0, 0x40020bba30, 0x302dee0)\n\t/cadence/service/history/task/transfer_standby_task_executor.go:596 +0x1d8\ngithub.com/uber/cadence/service/history/task.(*transferStandbyTaskExecutor).processCloseExecution(0x3467130?, {0x34674b0?, 0x4003e6a0e0?}, 0x4002b0a420?)\n\t/cadence/service/history/task/transfer_standby_task_executor.go:316 +0x58\ngithub.com/uber/cadence/service/history/task.(*transferStandbyTaskExecutor).Execute(0x40025b5350, {0x349cfb0, 0x40027c7950})\n\t/cadence/service/history/task/transfer_standby_task_executor.go:106 +0x430\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x40027c7950)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x40053fcd80, {0x3467130, 0x509ae60}, 0x40020bbe78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x40027c7950}, 0x40009ff5e0)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009ff5e0)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
{"level":"debug","ts":"2025-08-05T19:54:34.722Z","msg":"DomainID: 09ae9c46-e14e-4bd5-a677-889b360f53ad is active, task: &{{09ae9c46-e14e-4bd5-a677-889b360f53ad wf8 4fd31c6e-e182-4380-9c43-52ae350ed6f7} {2 1048586 2025-08-05 19:54:32.939 +0000 UTC}} version == target version: 2.","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"transfer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","logging-call-at":"task_util.go:209"}
{"level":"debug","ts":"2025-08-05T19:54:37.913Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"error","ts":"2025-08-05T19:54:37.913Z","msg":"getStandbyPostActionFn error getting current time, fallback to standbyTaskPostActionNoOp","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"timer-queue-processor","queue-type":"standby","active-cluster-name":"cluster0","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","queue-task-id":1048577,"queue-task-type":3,"timestamp":"2025-08-05T19:53:29.077Z","error":"domain becomes active when processing task as standby","logging-call-at":"standby_task_util.go:182","stacktrace":"github.com/uber/cadence/service/history/task.getStandbyPostActionFn\n\t/cadence/service/history/task/standby_task_util.go:182\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).executeWorkflowTimeoutTask\n\t/cadence/service/history/task/timer_standby_task_executor.go:416\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).Execute\n\t/cadence/service/history/task/timer_standby_task_executor.go:120\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute\n\t/cadence/service/history/task/task.go:167\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2\n\t/cadence/common/task/parallel_task_processor.go:166\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do\n\t/cadence/common/backoff/retry.go:186\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask\n\t/cadence/common/task/parallel_task_processor.go:186\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker\n\t/cadence/common/task/parallel_task_processor.go:148"}
{"level":"debug","ts":"2025-08-05T19:54:37.918Z","msg":"LookupWorkflow: workflow is region sticky. returning region, cluster name and failover version","service":"cadence-history","component":"active-cluster-manager","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","region":"region0","active-cluster-name":"cluster1","xdc-failover-version":2,"logging-call-at":"manager.go:360"}
{"level":"debug","ts":"2025-08-05T19:54:37.918Z","msg":"StartTransaction calling UpdateCurrentVersion for domain test-domain-aa, wfID wf8, incomingTaskVersion -24, version 2, stacktrace goroutine 2674 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x64\ngithub.com/uber/cadence/service/history/execution.(*mutableStateBuilder).StartTransaction(0x4003c18308, {0x34674b0?, 0x4002f969a0?}, 0x4002175680, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/mutable_state_builder.go:1439 +0x140\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecutionWithTaskVersion(0x40018afa20, {0x34674b0, 0x4002f969a0}, 0xffffffffffffffe8)\n\t/cadence/service/history/execution/context.go:390 +0x5c8\ngithub.com/uber/cadence/service/history/execution.(*contextImpl).LoadWorkflowExecution(0x2765fc0?, {0x34674b0?, 0x4002f969a0?})\n\t/cadence/service/history/execution/context.go:428 +0x28\ngithub.com/uber/cadence/service/history/task.loadMutableState({0x34674b0, 0x4002f969a0}, {0x3499440, 0x40018afa20}, {0x348f468, 0x4005c8d1a0}, {0x347b830, 0x4000db6510}, {0x34803e8, 0x4000f04978}, ...)\n\t/cadence/service/history/task/task_util.go:223 +0x68\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).processTimer(0x40025c2000, {0x34674b0, 0x4002f969a0}, {0x348f468, 0x4005c8d1a0}, 0x0, 0x40053c78d0, 0x302dee0)\n\t/cadence/service/history/task/timer_standby_task_executor.go:461 +0x1d8\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).executeWorkflowTimeoutTask(0x40025c2000, {0x34674b0, 0x4002f969a0}, 0x4005c8d1a0)\n\t/cadence/service/history/task/timer_standby_task_executor.go:411 +0x10c\ngithub.com/uber/cadence/service/history/task.(*timerStandbyTaskExecutor).Execute(0x40025c2000, {0x349cfb0, 0x4003be1e00})\n\t/cadence/service/history/task/timer_standby_task_executor.go:120 +0x764\ngithub.com/uber/cadence/service/history/task.(*taskImpl).Execute(0x4003be1e00)\n\t/cadence/service/history/task/task.go:167 +0x22c\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask.func2({0x3467130?, 0x509ae60?})\n\t/cadence/common/task/parallel_task_processor.go:166 +0x30\ngithub.com/uber/cadence/common/backoff.(*ThrottleRetry).Do(0x4004685ec0, {0x3467130, 0x509ae60}, 0x40053c7e78)\n\t/cadence/common/backoff/retry.go:186 +0x108\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).executeTask(0x40004748c0, {0xffff6d6a6640, 0x4003be1e00}, 0x40009fec40)\n\t/cadence/common/task/parallel_task_processor.go:186 +0x1d4\ngithub.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).taskWorker(0x40004748c0, 0x40009fec40)\n\t/cadence/common/task/parallel_task_processor.go:148 +0x6c\ncreated by github.com/uber/cadence/common/task.(*parallelTaskProcessorImpl).Start in goroutine 2034\n\t/cadence/common/task/parallel_task_processor.go:96 +0xc4\n","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:1438"}
{"level":"debug","ts":"2025-08-05T19:54:37.918Z","msg":"UpdateCurrentVersion for domain 09ae9c46-e14e-4bd5-a677-889b360f53ad, wfID wf8, version before: 2, version after: 2, forceUpdate: false","service":"cadence-history","shard-id":0,"address":"[::]:7934","component":"history-cache","wf-domain-id":"09ae9c46-e14e-4bd5-a677-889b360f53ad","wf-id":"wf8","wf-run-id":"4fd31c6e-e182-4380-9c43-52ae350ed6f7","logging-call-at":"mutable_state_builder.go:541"}
